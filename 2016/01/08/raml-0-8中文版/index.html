<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>raml-0.8中文版 | PilockHulmes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="RAML&amp;trade;版本0.8: REST风格API的建模语言点击查看新版RAML(1.0)
摘要RAML&amp;trade;是一门基于YAML, 用于描述REST风格API的语言. 在YAML规范的基础上, 本规范提供了用于描述REST风格API, 创建客户端与服务端代码生成器, 以及通过RAML API定义来生成API用户手册所需的一切信息;
简介本规范介绍了RAML. RAML定义了一种可同时供">
<meta property="og:type" content="article">
<meta property="og:title" content="raml-0.8中文版">
<meta property="og:url" content="http://yoursite.com/2016/01/08/raml-0-8中文版/index.html">
<meta property="og:site_name" content="PilockHulmes">
<meta property="og:description" content="RAML&amp;trade;版本0.8: REST风格API的建模语言点击查看新版RAML(1.0)
摘要RAML&amp;trade;是一门基于YAML, 用于描述REST风格API的语言. 在YAML规范的基础上, 本规范提供了用于描述REST风格API, 创建客户端与服务端代码生成器, 以及通过RAML API定义来生成API用户手册所需的一切信息;
简介本规范介绍了RAML. RAML定义了一种可同时供">
<meta property="og:updated_time" content="2016-01-18T11:43:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="raml-0.8中文版">
<meta name="twitter:description" content="RAML&amp;trade;版本0.8: REST风格API的建模语言点击查看新版RAML(1.0)
摘要RAML&amp;trade;是一门基于YAML, 用于描述REST风格API的语言. 在YAML规范的基础上, 本规范提供了用于描述REST风格API, 创建客户端与服务端代码生成器, 以及通过RAML API定义来生成API用户手册所需的一切信息;
简介本规范介绍了RAML. RAML定义了一种可同时供">
  
    <link rel="alternative" href="/atom.xml" title="PilockHulmes" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">PilockHulmes</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Article Archives</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-raml-0-8中文版" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/08/raml-0-8中文版/" class="article-date">
  <time datetime="2016-01-08T08:06:26.000Z" itemprop="datePublished">2016-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      raml-0.8中文版
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="RAML_26trade_3B_u7248_u672C0-8_3A_REST_u98CE_u683CAPI_u7684_u5EFA_u6A21_u8BED_u8A00"><a href="#RAML_26trade_3B_u7248_u672C0-8_3A_REST_u98CE_u683CAPI_u7684_u5EFA_u6A21_u8BED_u8A00" class="headerlink" title="RAML&trade;版本0.8: REST风格API的建模语言"></a>RAML&trade;版本0.8: REST风格API的建模语言</h1><p>点击查看<a href="http://raml.org/spec.html" target="_blank" rel="external">新版RAML(1.0)</a></p>
<h2 id="u6458_u8981"><a href="#u6458_u8981" class="headerlink" title="摘要"></a>摘要</h2><p>RAML&trade;是一门基于YAML, 用于描述REST风格API的语言. 在<a href="http://yaml.org/spec/1.2/spec.html" target="_blank" rel="external">YAML规范</a>的基础上, 本规范提供了用于描述REST风格API, 创建客户端与服务端代码生成器, 以及通过RAML API定义来生成API用户手册所需的一切信息;</p>
<h2 id="u7B80_u4ECB"><a href="#u7B80_u4ECB" class="headerlink" title="简介"></a>简介</h2><p>本规范介绍了RAML. RAML定义了一种可同时供人阅读与供机器运行的对REST风格API的描述方式. API文档生成器, API客户端代码生成器与API服务器可通过同一份RAML文档分别生成用户手册, 客户端代码以及服务器代码框架.</p>
<h2 id="u7EA6_u5B9A"><a href="#u7EA6_u5B9A" class="headerlink" title="约定"></a>约定</h2><p>本规范中的”<em>必须</em>“, “<em>必须不</em>“, “<em>要求</em>“, “<em>应</em>“, “<em>不应</em>“, “<em>应该</em>“, “<em>不应该</em>“, “<em>建议</em>“, “<em>或许</em>“和”<em>可选</em>“等关键字的意思遵从 RFC 2119 [RFC2119]中的定义.</p>
<h2 id="u6982_u8FF0"><a href="#u6982_u8FF0" class="headerlink" title="概述"></a>概述</h2><p>RAML定义了媒体类型”application/raml+yaml”以用于描述并记录诸如methods, schema等REST风格API的资源. RAML基于YAML语言, 且其文档支持所有YAML 1.2的特性. RAML文件的推荐扩展名是”.raml”.</p>
<p>RAML也提供工具来给REST风格API制作详尽的文档, 并允许文档生成工具从中提取信息来将其转换成诸如PDF, HTML等格式的用户手册.</p>
<p>RAML同样引进了resource types(资源类型)和traits(特质)这两种新概念来描述资源和请求, 以期尽可能减少描述REST风格API时的重复工作.</p>
<p>本RAML规范的结构如下:</p>
<ul>
<li><strong>基础信息.</strong> 说明如何描述一份REST风格API的名字, 标题, 位置等核心方面.</li>
<li><strong>用户手册.</strong> 描述如何为REST风格API引用辅助文档.</li>
<li><strong>Resource Types(资源类型)和Traits(特质).</strong> 描述一种使用RAML的resource types(资源类型)与traits(特质)来避免定义REST风格API时重复工作的技巧.</li>
<li><strong>Resource</strong> 描述如何表示REST风格API中的resources, resources的methods和schema, 以及resources之间的交互.</li>
</ul>
<h3 id="u672F_u8BED"><a href="#u672F_u8BED" class="headerlink" title="术语"></a>术语</h3><p>在本规范中将用 <em>API定义</em> 来表示使用本规范定义的API并用 <em>RAML规范</em> 来表示本文档.</p>
<h3 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h3><p><em>REST</em> 用于形容一个依照REST原则实现的API. REST是Representational State Transfer(表征状态传输)的缩写, 这个概念最早是在2000年时由Roy Fielding在他的博士毕业论文 [REST] 中提出的.</p>
<h3 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h3><p>一个 <em>resource</em> 是对一个实体或是实体组的概念映射.</p>
<h2 id="u6807_u8BB0_u8BED_u8A00"><a href="#u6807_u8BB0_u8BED_u8A00" class="headerlink" title="标记语言"></a>标记语言</h2><p>本规范使用YAML 1.2 [YAML]作为核心格式. 作为可供阅读的数据格式, YAML十分符合本规范的设计目标.</p>
<p>RAML API定义文档像YAML文档一样要求以指明RAML版本的YAML注释行作为起始, 举例如下:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8</span><br></pre></td></tr></table></figure>
<p>RAML版本必须放在RAML文档的第一行. RAML编译器必须将剩余加了YAML注释符号的行视作注释.</p>
<p>在RAML中, YAML原有的数据结构被增强以容纳原本不支持的数据类型. 所有RAML文档必须支持这些扩展.</p>
<p>在RAML中, 所有值都大小写敏感.</p>
<h3 id="u5F15_u5165"><a href="#u5F15_u5165" class="headerlink" title="引入"></a>引入</h3><p>在YAML规范中不要求YAML编译器使用任何方式把一份YAML文件分成更易管理的小份文件. 而RAML文档必须能够被分为多份文件. 为了支持该功能, 所有RAML编译器必须支持 <em>include</em> 标签来引入RAML, YAML和其他常见文本文件.</p>
<p>在本例中, myTextFile.txt中的内容被引入作为external属性的值.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;external: !include myTextFile.txt</span><br></pre></td></tr></table></figure>
<p>当引入RAML或YAML文件时, RAML编辑器不仅要能够读到其中内容, 还要能将其加入到声明结构中, 就像在文档内声明了这些内容一样.</p>
<p>为了简化API定义, 也由于被引入的文件并不与其父级文件共享编译上下文, 因此一份被引入的文件不应使用另一份文件中定义的锚. 同样地, 父级文件中不应使用引入文件中定义的锚</p>
<p>在本例中, <em>properties.raml</em> 文件定义了两个属性. <em>big.raml</em> 引用了properties.raml文件.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;#properties.raml&#10;&#10;propertyA: valueA&#10;propertyB: valueB</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;#big.raml&#10;&#10;external: !include properties.raml</span><br></pre></td></tr></table></figure>
<p>这样子得到的结果和以下内联声明相同:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;external:&#10;  propertyA: valueA&#10;  propertyB: valueB</span><br></pre></td></tr></table></figure>
<p>如果在被引入的文件中使用了相对路径, 该相对路径会基于原(发起引用的)文件的位置来解读. 如果原文件是作为HTTP资源获取到的, 那么被其引入的文件也应该通过HTTP来获取.</p>
<p>在以下例子中, 由于原(发起引用的)文件位于 <em><a href="http://example-domain.org/api/example.raml" target="_blank" rel="external">http://example-domain.org/api/example.raml</a></em> , 因此 <em>properties.raml</em> 的获取路径应该为 <em><a href="http://example-domain.org/api/properties.raml" target="_blank" rel="external">http://example-domain.org/api/properties.raml</a></em>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;#http://example-domain.org/api/example.raml&#10;&#10;external: !include properties.raml</span><br></pre></td></tr></table></figure>
<p>如果被引入的文件属于以下媒体类型:</p>
<ul>
<li>application/raml+yaml</li>
<li>text/yaml</li>
<li>text/x-yaml</li>
<li>application/yaml</li>
<li>application/x-yaml</li>
</ul>
<p>或者以 <em>.raml</em>, <em>.yml</em>, <em>.yaml</em> 之一作为扩展名时, RAML编译器必须将这些文件中的内容视为RAML并将其加到RAML文档的节点中.</p>
<p>被引入文件的路径, 也就是 !include 右边的内容, 必须是静态的. 也就是说其中不能含有任何resource types(资源类型)或traits(特质)参数. 会考虑在未来版本中加入该功能.</p>
<h2 id="u5177_u540D_u53C2_u6570"><a href="#u5177_u540D_u53C2_u6570" class="headerlink" title="具名参数"></a>具名参数</h2><p>在本RAML规范中为以下属性定义了具名参数集合: URI parameters(统一资源标识符参数), query string parameters(get请求中的请求参数), form parameters(请求体中的表单参数), request bodies(不同媒体类型中的请求体), 以及request and response header(请求头与响应头). 以上属性拥有本章节中定义的所有具名参数.</p>
<p>部分具名参数为可选的, 另一部分为必须的. 具体情况可以看本章节对每个具名参数的描述.</p>
<p>除有特别说明, 所有具名参数的值都应是纯文本. 所有合法的YAML字符也可以被加入到具名参数的值中.</p>
<h3 id="displayName_28_u5C55_u793A_u540D_u79F0_29"><a href="#displayName_28_u5C55_u793A_u540D_u79F0_29" class="headerlink" title="displayName(展示名称)"></a>displayName(展示名称)</h3><p>(可选)<br><em>displayName(展示名称)</em> 属性规定了参数展示的名称. 该值仅在展示或是生成文档时会用到. 如果没有定义, 那么默认会使用参数的名字作为 <em>displayName(展示名称)</em>.</p>
<h3 id="description_28_u63CF_u8FF0_29"><a href="#description_28_u63CF_u8FF0_29" class="headerlink" title="description(描述)"></a>description(描述)</h3><p>(可选)<br><em>description(描述)</em> 属性用于说明参数预期用途或是意义. 其值可以使用 Markdown [Markdown] 格式的文本.</p>
<h3 id="type_28_u7C7B_u578B_29"><a href="#type_28_u7C7B_u578B_29" class="headerlink" title="type(类型)"></a>type(类型)</h3><p>(可选)<br><em>type(类型)</em> 属性规定了参数解析值的基本类型. 若参数的解析值的类型与定义不符合, API客户端必须返回/抛出一个异常. 如果没有定义, 那么默认会以string作为 <em>type(类型)</em>. 合法的类型有:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">string</td>
<td style="text-align:left">值必须为字符串.</td>
</tr>
<tr>
<td style="text-align:left">number</td>
<td style="text-align:left">值必须是数, 由YAML定义的浮点数.</td>
</tr>
<tr>
<td style="text-align:left">integer</td>
<td style="text-align:left">值必须是整数. 不允许是整数. integer类型是number类型的一个子集.</td>
</tr>
<tr>
<td style="text-align:left">date</td>
<td style="text-align:left">值必须是一串 RFC2616 [RFC2616] 3.3节中定义的日期格式的字符串. 详见 <a href="/#date-representations">日期表示</a>.</td>
</tr>
<tr>
<td style="text-align:left">boolean</td>
<td style="text-align:left">值必须是字符串”true”或者”false”(没有双引号)之一.</td>
</tr>
<tr>
<td style="text-align:left">file</td>
<td style="text-align:left">(只适用于表单)<br><br>值必须为一个文件. 客户端生成器应该使用该类型来正确处理文件上传.</td>
</tr>
</tbody>
</table>
<p>#####日期表示</p>
<p>正如[RFC2616]中所定义的, 所有日期/时间戳必须以格林尼治标准时(GMT)表示, 对于HTTP而言GMT完全等同于UTC(协调世界时). 通过把”GMT”缩写加入到日期的时区位置来指定时间类型, 例如: <figure class="highlight"><figcaption><span>06 Nov 1994 08:49:37 GMT```.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;### enum(&#26522;&#20030;)&#10;(&#21487;&#36873;, &#21482;&#36866;&#29992;&#20110;string&#31867;&#22411;&#30340;&#21442;&#25968;)&#10;*enum(&#26522;&#20030;)* &#23646;&#24615;&#20250;&#32473;&#20986;&#21464;&#37327;&#25152;&#26377;&#21512;&#27861;&#20540;&#30340;&#26522;&#20030;. &#24517;&#39035;&#36890;&#36807;&#25968;&#32452;&#26469;&#26522;&#20030;. &#22914;&#26524;&#23450;&#20041;&#20102; *enum(&#26522;&#20030;)* &#23646;&#24615;, API&#30340;&#23458;&#25143;&#31471;&#19982;&#26381;&#21153;&#31471;&#37117;&#24517;&#39035;&#39564;&#35777;&#21442;&#25968;&#30340;&#20540;&#26159;&#21542;&#31526;&#21512;&#26522;&#20030;&#25968;&#32452;&#20013;&#26576;&#19968;&#39033;&#30340;&#20540;. &#33509;&#25968;&#32452;&#20013;&#27809;&#26377;&#20540;&#21305;&#37197;&#24471;&#19978;, &#23458;&#25143;&#31471;&#19982;&#26381;&#21153;&#22120;&#31471;&#37117;&#24517;&#39035;&#23558;&#20854;&#35270;&#20026;&#19968;&#20010;&#38169;&#35823;.&#10;&#10;### pattern(&#26684;&#24335;)&#10;(&#21487;&#36873;, &#21482;&#36866;&#29992;&#20110;string&#31867;&#22411;&#30340;&#21442;&#25968;)&#10;*pattern(&#26684;&#24335;)* &#23646;&#24615;&#26159;&#19968;&#20010;&#27491;&#21017;&#34920;&#36798;&#24335;, string&#31867;&#22411;&#30340;&#21442;&#25968;&#24517;&#39035;&#19982;&#20854;&#21305;&#37197;. &#27491;&#21017;&#34920;&#36798;&#24335;&#30340;&#26684;&#24335;&#24517;&#39035;&#36981;&#24490; ECMA 262/Perl 5. &#27491;&#21017;&#34920;&#36798;&#24335;&#21487;&#20197;&#20351;&#29992;&#21452;&#24341;&#21495;&#21253;&#35065;.&#10;&#10;### minLength(&#26368;&#23567;&#38271;&#24230;)&#10;(&#21487;&#36873;, &#21482;&#36866;&#29992;&#20110;string&#31867;&#22411;&#30340;&#21442;&#25968;)&#10;*minLength(&#26368;&#23567;&#38271;&#24230;)* &#23646;&#24615;&#35268;&#23450;&#20102;&#21442;&#25968;&#30340;&#20540;&#20801;&#35768;&#30340;&#26368;&#23567;&#23383;&#31526;&#20010;&#25968;.&#10;&#10;### maxLength(&#26368;&#22823;&#38271;&#24230;)&#10;(&#21487;&#36873;, &#21482;&#36866;&#29992;&#20110;string&#31867;&#22411;&#30340;&#21442;&#25968;)&#10;*maxLength(&#26368;&#22823;&#38271;&#24230;)* &#23646;&#24615;&#35268;&#23450;&#20102;&#21442;&#25968;&#30340;&#20540;&#20801;&#35768;&#30340;&#26368;&#22823;&#23383;&#31526;&#20010;&#25968;.&#10;&#10;### minimum(&#26368;&#23567;&#20540;)&#10;(&#21487;&#36873;, &#21482;&#36866;&#29992;&#20110;number&#25110;&#26159;integer&#31867;&#22411;&#30340;&#21442;&#25968;)&#10;*minimum(&#26368;&#23567;&#20540;)* &#23646;&#24615;&#35268;&#23450;&#20102;&#21442;&#25968;&#30340;&#26368;&#23567;&#20540;.&#10;&#10;### maximum(&#26368;&#22823;&#20540;)&#10;(&#21487;&#36873;, &#21482;&#36866;&#29992;&#20110;number&#25110;&#26159;integer&#31867;&#22411;&#30340;&#21442;&#25968;)&#10;*maximum(&#26368;&#22823;&#20540;)* &#23646;&#24615;&#35268;&#23450;&#20102;&#21442;&#25968;&#30340;&#26368;&#22823;&#20540;&#10;&#10;### example(&#31034;&#20363;)&#10;(&#21487;&#36873;)&#10;*example(&#31034;&#20363;)* &#23646;&#24615;&#26159;&#21442;&#25968;&#20540;&#30340;&#19968;&#20010;&#31034;&#20363;. &#25991;&#26723;&#29983;&#25104;&#22120;&#21487;&#20197;&#20351;&#29992;&#35813;&#23646;&#24615;&#26469;&#20026;&#21442;&#25968;&#26469;&#29983;&#25104;&#26679;&#26412;&#20540;.&#10;&#10;### repeat(&#21487;&#37325;&#22797;)&#10;(&#21487;&#36873;)&#10;*repeat(&#21487;&#37325;&#22797;)* &#23646;&#24615;&#35268;&#23450;&#20102;&#21442;&#25968;&#26159;&#21542;&#33021;&#37325;&#22797;&#20351;&#29992;. &#22914;&#26524;&#33021;, *repeat(&#21487;&#37325;&#22797;)* &#30340;&#20540;&#24517;&#39035;&#35774;&#20026;true. &#21542;&#21017;&#20540;&#20026;false.&#10;&#10;### required(&#24517;&#38656;)&#10;(&#21487;&#36873;, &#38500;&#38750;&#22312;&#21035;&#22788;&#26377;&#35828;&#26126;)&#10;*required(&#24517;&#38656;)* &#23646;&#24615;&#35268;&#23450;&#20102;&#21442;&#25968;&#26159;&#21542;&#24517;&#38656;&#20986;&#29616;&#22312;API&#23450;&#20041;&#20013;. &#33509;&#24517;&#38656;&#21017;&#20026;true, &#21542;&#21017;&#20026;false.&#10;&#10;&#19968;&#33324;&#32780;&#35328;, &#21442;&#25968;&#36890;&#24120;&#26159;&#21487;&#36873;&#30340;, &#38500;&#38750;&#21442;&#25968;&#21547;&#26377; *required(&#24517;&#38656;)* &#19988;&#20854;&#20540;&#20026;true.&#10;&#10;URI parameters(&#32479;&#19968;&#36164;&#28304;&#26631;&#35782;&#31526;&#21442;&#25968;)&#30340; *required(&#24517;&#38656;)* &#23646;&#24615;&#21487;&#20197;&#30465;&#30053;, &#20294;&#23646;&#24615;&#30340;&#40664;&#35748;&#20540;&#26159;true&#10;&#10;### default(&#40664;&#35748;&#20540;)&#10;(&#21487;&#36873;)&#10;*default(&#40664;&#35748;&#20540;)* &#23646;&#24615;&#35268;&#23450;&#20102;&#24403;&#26576;&#20010;&#21442;&#25968;&#34987;&#30465;&#30053;&#25110;&#26159;&#27809;&#26377;&#32473;&#20854;&#36171;&#20540;&#26102;&#21442;&#25968;&#30340;&#40664;&#35748;&#20540;. &#36825;&#20010;&#23646;&#24615;&#24182;&#19981;&#26159;&#35201;&#27714;&#23458;&#25143;&#31471;&#22312;&#26576;&#20010;&#21442;&#25968;&#26080;&#20540;&#21487;&#20256;&#26102;&#32473;&#26381;&#21153;&#22120;&#20256;&#19968;&#20010;&#40664;&#35748;&#20540;. &#32780;&#26159;&#35201;&#27714;&#24403;&#23458;&#25143;&#31471;&#27809;&#26377;&#20256;&#26469;&#35813;&#21442;&#25968;&#26102;&#26381;&#21153;&#22120;&#33021;&#23558;&#20854;&#35774;&#20026;&#40664;&#35748;&#20540;.&#10;&#10;## &#22810;&#31867;&#22411;&#20855;&#21517;&#21442;&#25968;&#10;&#20855;&#21517;&#21442;&#25968;&#21487;&#20197;&#20351;&#29992;&#21253;&#21547;&#26144;&#23556;&#30340;&#25968;&#32452;&#20316;&#20026;&#20540;&#26469;&#34920;&#26126;&#35813;&#20855;&#21517;&#21442;&#25968;&#20855;&#26377;&#22810;&#31181;&#31867;&#22411;, &#25968;&#32452;&#20013;&#30340;&#27599;&#19968;&#32452;&#26144;&#23556;&#37117;&#26377;&#19978;&#25991;&#20013;&#25552;&#21040;&#30340;&#23646;&#24615;. &#36825;&#31181;&#23450;&#20041;&#22810;&#31867;&#22411;&#20855;&#21517;&#21442;&#25968;&#30340;&#26426;&#21046;&#22312;API&#38656;&#35201;&#32473;&#21516;&#19968;&#20010;&#20855;&#21517;&#21442;&#25968;&#23450;&#20041;&#36229;&#36807;&#19968;&#31181;&#31867;&#22411;&#26102;&#29305;&#21035;&#26377;&#29992;.&#10;&#10;&#22312;&#19979;&#38754;&#30340;&#20363;&#23376;&#37324;&#20855;&#21517;&#21442;&#25968; *file* &#21487;&#20197;&#29992;&#20110;&#21521;API&#21457;&#36865;&#19968;&#20221;&#25991;&#20214;&#25110;&#26159;&#23383;&#31526;&#20018;&#25991;&#26412;.&#10;&#10;```yaml&#10;#%RAML 0.8&#10;title: Amazon simple storage API&#10;version: 1&#10;baseUri: https://&#123;destinationBucket&#125;.s3.amazonaws.com&#10;/:&#10;  post:&#10;    description: POST&#25805;&#20316;&#20250;&#20351;&#29992;HTML&#34920;&#21333;&#26469;&#21521;&#23450;&#20041;&#22909;&#30340;&#23481;&#22120;&#20013;&#21152;&#20837;&#19968;&#20010;&#23545;&#35937;.&#10;    body:&#10;      application/x-www-form-urlencoded:&#10;        formParameters:&#10;          AWSAccessKeyId:&#10;            description: &#25480;&#20104;&#21311;&#21517;&#29992;&#25143;&#20351;&#29992;&#21512;&#27861;&#35831;&#27714;&#26435;&#38480;&#30340;&#23481;&#22120;&#25317;&#26377;&#32773;&#30340;AWS Access Key(&#35775;&#38382;&#23494;&#38053;) ID.&#10;            type: string&#10;          acl:&#10;            description: &#35268;&#23450;&#20102;Amazon S3&#30340;&#35775;&#38382;&#25511;&#21046;&#34920;. &#22914;&#26524;&#35775;&#38382;&#25511;&#21046;&#34920;&#20013;&#23450;&#20041;&#20102;&#19968;&#31181;&#38750;&#27861;&#35831;&#27714;, &#37027;&#20040;&#26381;&#21153;&#22120;&#20013;&#20250;&#29983;&#25104;&#19968;&#20010;&#38169;&#35823;&#23545;&#35937;.&#10;            type: string&#10;          file:&#10;            - type: string&#10;              description: &#25991;&#26412;&#20869;&#23481;. &#25991;&#26412;&#20869;&#23481;&#24517;&#39035;&#26159;&#34920;&#21333;&#20013;&#26368;&#21518;&#19968;&#20010;&#23383;&#27573;.&#10;            - type: file&#10;              description: &#19978;&#20256;&#30340;&#25991;&#20214;. &#25991;&#20214;&#24517;&#39035;&#26159;&#34920;&#21333;&#20013;&#26368;&#21518;&#19968;&#20010;&#23383;&#27573;.</span><br></pre></td></tr></table></figure></p>
<h2 id="u57FA_u7840_u4FE1_u606F"><a href="#u57FA_u7840_u4FE1_u606F" class="headerlink" title="基础信息"></a>基础信息</h2><p>本章节将会介绍RAML API定义中的各个组件.</p>
<h3 id="u6839_u8282_u7EC4"><a href="#u6839_u8282_u7EC4" class="headerlink" title="根节组"></a>根节组</h3><p>根节组中说明了诸如标题, 网页的baseURI以及如何引用公共schema等API的基本信息.</p>
<p>RAML结构的API定义中各项属性出现的顺序可以随意变化.</p>
<p>下面的例子展示了Github v3的RAML API定义中的一部分.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;title: GitHub API&#10;version: v3&#10;baseUri: https://api.github.com&#10;mediaType:  application/json&#10;schemas:&#10;  - User:  schema/user.json&#10;    Users: schema/users.json&#10;    Org:   schema/org.json&#10;    Orgs:  schema/orgs.json</span><br></pre></td></tr></table></figure>
<h3 id="API_Title_28_u6807_u9898_29"><a href="#API_Title_28_u6807_u9898_29" class="headerlink" title="API Title(标题)"></a>API Title(标题)</h3><p>(必需)<br><em>title(标题)</em> 属性是一段对REST风格API的简单形容. <em>title(标题)</em> 属性的值会被用来作为用户手册的标题.</p>
<h3 id="API_Version_28_u7248_u672C_29"><a href="#API_Version_28_u7248_u672C_29" class="headerlink" title="API Version(版本)"></a>API Version(版本)</h3><p>(可选)<br>如果RAML API定义只针对API的某一个版本, 那么定义中必须包含 <em>version(版本)</em> 属性. <em>version(版本)</em> 属性是可选的, 并且不应使用于在以下情况中:</p>
<ul>
<li>API本身并没有版本.</li>
<li>API的定义不会随着其版本不同而变化. API构建者可以决定是否将对用户手册的修改视作版本变化.</li>
</ul>
<p>只要格式统一, API构建者可以使用任意模式来规定版本. 比如可以使用”v3”, “v3.0”或是”V3”, 但这三个不会被视作同一个版本.</p>
<h3 id="Base_URI_28_u57FA_u5730_u5740_29_u548CbaseUriParameters_28_u57FA_u5730_u5740_u53C2_u6570_29"><a href="#Base_URI_28_u57FA_u5730_u5740_29_u548CbaseUriParameters_28_u57FA_u5730_u5740_u53C2_u6570_29" class="headerlink" title="Base URI(基地址)和baseUriParameters(基地址参数)"></a>Base URI(基地址)和baseUriParameters(基地址参数)</h3><p>(在API设计时为可选; 在API实现时为必需)<br>REST风格API的resources(资源)的定义都基于API的base URI(基地址). 当API还未被实现时是否使用 <em>baseUri(基地址)</em> 属性是可选的. 而当API被实现(即使只是模拟实现)并能在服务器端访问时, 其定义中必需有 <em>baseUri(基地址)</em> 属性. <em>baseUri(基地址)</em> 属性的值必需符合URI规格说明 [RFC2396] 中的定义或者符合 RFC 6570 [RFC6570] 中定义的 Level 1 模板.</p>
<p><em>baseUri(基地址)</em> 属性的值应该仅被视作参考值. API客户端生成器应该能够通过用户的配置来生成 <em>baseUri(基地址)</em>.</p>
<p>如果 <em>baseUri(基地址)</em> 的值是 Level 1 模板, 那么以下为其保留URI参数:</p>
<table>
<thead>
<tr>
<th style="text-align:left">URI 参数</th>
<th style="text-align:left">值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">version</td>
<td style="text-align:left">version(版本) 属性的值</td>
</tr>
</tbody>
</table>
<p>任何其他出现在 <em>baseUri(基地址)</em> 中的参数都可以定义在根节组的 <em>baseUriParameters(基地址变量)</em> 中. <em>baseUriParameters(基地址变量)</em> 拥有本规范在具名参数章节中定义的所有属性.</p>
<p>如果一个URI模板变量既没有在根节组的 <em>baseUriParameters(基地址变量)</em> 中定义, 也没有在resource-level<br>(资源级) <em>baseUriParameters(基地址变量)</em> 中定义, 它也应被视为一个本规范在具名参数章节中定义的默认参数. 其类型为string, 是必需的, 且展示名称是参数名称.(在去掉了[{]与[}]之后的名称).</p>
<p>在下面的例子里RAML API定义在 <em>baseUri(基地址)</em> 中使用了 Level 1 模板.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;title: Salesforce Chatter REST API&#10;version: v28.0&#10;baseUri: https://na1.salesforce.com/services/data/&#123;version&#125;/chatter</span><br></pre></td></tr></table></figure>
<p>在下面的例子里使用了定义好的基地址变量</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;title: Amazon S3 REST API&#10;version: 1&#10;baseUri: https://&#123;bucketName&#125;.s3.amazonaws.com&#10;baseUriParameters:&#10;  bucketName:&#10;    description: &#23481;&#22120;&#30340;&#21517;&#31216;</span><br></pre></td></tr></table></figure>
<h3 id="Protocols_28_u534F_u8BAE_29"><a href="#Protocols_28_u534F_u8BAE_29" class="headerlink" title="Protocols(协议)"></a>Protocols(协议)</h3><p>(可选)<br>一个REST风格API可以通过HTTP或者HTTPS或者能同时通过两个协议访问. <em>protocols协议</em> 属性可以被用来定义API支持的协议. 若没有定义 <em>protocols协议</em> 属性则会默认使用定义在 <em>baseUri(基地址)</em> 中的协议. <em>protocols协议</em> 属性的值必须是string的数组, 数组的内容是  <strong>“HTTP”</strong> 和/或 <strong>“HTTPS”</strong>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;title: Salesforce Chatter REST API&#10;version: v28.0&#10;protocols: [ HTTP, HTTPS ]&#10;baseUri: https://na1.salesforce.com/services/data/&#123;version&#125;/chatter</span><br></pre></td></tr></table></figure>
<h3 id="Default_Media_Type_28_u9ED8_u8BA4_u5A92_u4F53_u7C7B_u578B_29"><a href="#Default_Media_Type_28_u9ED8_u8BA4_u5A92_u4F53_u7C7B_u578B_29" class="headerlink" title="Default Media Type(默认媒体类型)"></a>Default Media Type(默认媒体类型)</h3><p>(可选)<br><em>mediaType(媒体类型)</em> 属性定义了API responses返回的媒体类型以及API request中的request body</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/01/08/raml-0-8中文版/" data-id="cijl5l3540001ks7js8o3ykmh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2016/01/05/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/01/08/raml-0-8中文版/">raml-0.8中文版</a>
          </li>
        
          <li>
            <a href="/2016/01/05/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 PilockHulmes<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>