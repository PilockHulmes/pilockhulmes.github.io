<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>PilockHulmes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="PilockHulmes">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="PilockHulmes">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PilockHulmes">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="PilockHulmes" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">PilockHulmes</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Article Archives</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-raml-0-8中文版" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/08/raml-0-8中文版/" class="article-date">
  <time datetime="2016-01-08T08:06:26.000Z" itemprop="datePublished">2016-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/08/raml-0-8中文版/">raml-0.8中文版</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="RAML_26trade_3B_u7248_u672C0-8_3A_REST_u98CE_u683CAPI_u7684_u5EFA_u6A21_u8BED_u8A00"><a href="#RAML_26trade_3B_u7248_u672C0-8_3A_REST_u98CE_u683CAPI_u7684_u5EFA_u6A21_u8BED_u8A00" class="headerlink" title="RAML&trade;版本0.8: REST风格API的建模语言"></a>RAML&trade;版本0.8: REST风格API的建模语言</h1><p>点击查看<a href="http://raml.org/spec.html" target="_blank" rel="external">新版RAML(1.0)</a></p>
<h2 id="u6458_u8981"><a href="#u6458_u8981" class="headerlink" title="摘要"></a>摘要</h2><p>RAML&trade;是一门基于YAML, 用于描述REST风格API的语言. 在<a href="http://yaml.org/spec/1.2/spec.html" target="_blank" rel="external">YAML规范</a>的基础上, 本规范提供了用于描述REST风格API, 创建客户端与服务端代码生成器, 以及通过RAML API定义来生成API用户手册所需的一切信息;</p>
<h2 id="u7B80_u4ECB"><a href="#u7B80_u4ECB" class="headerlink" title="简介"></a>简介</h2><p>本规范介绍了RAML. RAML定义了一种可同时供人阅读与供机器运行的对REST风格API的描述方式. API文档生成器, API客户端代码生成器与API服务器可通过同一份RAML文档分别生成用户手册, 客户端代码以及服务器代码框架.</p>
<h2 id="u7EA6_u5B9A"><a href="#u7EA6_u5B9A" class="headerlink" title="约定"></a>约定</h2><p>本规范中的”<em>必须</em>“, “<em>必须不</em>“, “<em>要求</em>“, “<em>应</em>“, “<em>不应</em>“, “<em>应该</em>“, “<em>不应该</em>“, “<em>建议</em>“, “<em>或许</em>“和”<em>可选</em>“等关键字的意思遵从 RFC 2119 [RFC2119]中的定义.</p>
<h2 id="u6982_u8FF0"><a href="#u6982_u8FF0" class="headerlink" title="概述"></a>概述</h2><p>RAML定义了媒体类型”application/raml+yaml”以用于描述并记录诸如methods, schema等REST风格API的资源. RAML基于YAML语言, 且其文档支持所有YAML 1.2的特性. RAML文件的推荐扩展名是”.raml”.</p>
<p>RAML也提供工具来给REST风格API制作详尽的文档, 并允许文档生成工具从中提取信息来将其转换成诸如PDF, HTML等格式的用户手册.</p>
<p>RAML同样引进了resource types(资源类型)和traits(特质)这两种新概念来描述资源和请求, 以期尽可能减少描述REST风格API时的重复工作.</p>
<p>本RAML规范的结构如下:</p>
<ul>
<li><strong>基础信息.</strong> 说明如何描述一份REST风格API的名字, 标题, 位置等核心方面.</li>
<li><strong>用户手册.</strong> 描述如何为REST风格API引用辅助文档.</li>
<li><strong>Resource Types(资源类型)和Traits(特质).</strong> 描述一种使用RAML的resource types(资源类型)与traits(特质)来避免定义REST风格API时重复工作的技巧.</li>
<li><strong>Resource</strong> 描述如何表示REST风格API中的resources, resources的methods和schema, 以及resources之间的交互.</li>
</ul>
<h3 id="u672F_u8BED"><a href="#u672F_u8BED" class="headerlink" title="术语"></a>术语</h3><p>在本规范中将用 <em>API定义</em> 来表示使用本规范定义的API并用 <em>RAML规范</em> 来表示本文档.</p>
<h3 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h3><p><em>REST</em> 用于形容一个依照REST原则实现的API. REST是Representational State Transfer(表征状态传输)的缩写, 这个概念最早是在2000年时由Roy Fielding在他的博士毕业论文 [REST] 中提出的.</p>
<h3 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h3><p>一个 <em>resource</em> 是对一个实体或是实体组的概念映射.</p>
<h2 id="u6807_u8BB0_u8BED_u8A00"><a href="#u6807_u8BB0_u8BED_u8A00" class="headerlink" title="标记语言"></a>标记语言</h2><p>本规范使用YAML 1.2 [YAML]作为核心格式. 作为可供阅读的数据格式, YAML十分符合本规范的设计目标.</p>
<p>RAML API定义文档像YAML文档一样要求以指明RAML版本的YAML注释行作为起始, 举例如下:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8</span><br></pre></td></tr></table></figure>
<p>RAML版本必须放在RAML文档的第一行. RAML编译器必须将剩余加了YAML注释符号的行视作注释.</p>
<p>在RAML中, YAML原有的数据结构被增强以容纳原本不支持的数据类型. 所有RAML文档必须支持这些扩展.</p>
<p>在RAML中, 所有值都大小写敏感.</p>
<h3 id="u5F15_u5165"><a href="#u5F15_u5165" class="headerlink" title="引入"></a>引入</h3><p>在YAML规范中不要求YAML编译器使用任何方式把一份YAML文件分成更易管理的小份文件. 而RAML文档必须能够被分为多份文件. 为了支持该功能, 所有RAML编译器必须支持 <em>include</em> 标签来引入RAML, YAML和其他常见文本文件.</p>
<p>在本例中, myTextFile.txt中的内容被引入作为external属性的值.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;external: !include myTextFile.txt</span><br></pre></td></tr></table></figure>
<p>当引入RAML或YAML文件时, RAML编辑器不仅要能够读到其中内容, 还要能将其加入到声明结构中, 就像在文档内声明了这些内容一样.</p>
<p>为了简化API定义, 也由于被引入的文件并不与其父级文件共享编译上下文, 因此一份被引入的文件不应使用另一份文件中定义的锚. 同样地, 父级文件中不应使用引入文件中定义的锚</p>
<p>在本例中, <em>properties.raml</em> 文件定义了两个属性. <em>big.raml</em> 引用了properties.raml文件.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;#properties.raml&#10;&#10;propertyA: valueA&#10;propertyB: valueB</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;#big.raml&#10;&#10;external: !include properties.raml</span><br></pre></td></tr></table></figure>
<p>这样子得到的结果和以下内联声明相同:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;external:&#10;  propertyA: valueA&#10;  propertyB: valueB</span><br></pre></td></tr></table></figure>
<p>如果在被引入的文件中使用了相对路径, 该相对路径会基于原(发起引用的)文件的位置来解读. 如果原文件是作为HTTP资源获取到的, 那么被其引入的文件也应该通过HTTP来获取.</p>
<p>在以下例子中, 由于原(发起引用的)文件位于 <em><a href="http://example-domain.org/api/example.raml" target="_blank" rel="external">http://example-domain.org/api/example.raml</a></em> , 因此 <em>properties.raml</em> 的获取路径应该为 <em><a href="http://example-domain.org/api/properties.raml" target="_blank" rel="external">http://example-domain.org/api/properties.raml</a></em>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#%RAML 0.8&#10;#http://example-domain.org/api/example.raml&#10;&#10;external: !include properties.raml</span><br></pre></td></tr></table></figure>
<p>如果被引入的文件属于以下媒体类型:</p>
<ul>
<li>application/raml+yaml</li>
<li>text/yaml</li>
<li>text/x-yaml</li>
<li>application/yaml</li>
<li>application/x-yaml</li>
</ul>
<p>或者以 <em>.raml</em>, <em>.yml</em>, <em>.yaml</em> 之一作为扩展名时, RAML编译器必须将这些文件中的内容视为RAML并将其加到RAML文档的节点中.</p>
<p>被引入文件的路径, 也就是 !include 右边的内容, 必须是静态的. 也就是说其中不能含有任何resource types(资源类型)或traits(特质)参数. 会考虑在未来版本中加入该功能.</p>
<h2 id="u5177_u540D_u53C2_u6570"><a href="#u5177_u540D_u53C2_u6570" class="headerlink" title="具名参数"></a>具名参数</h2><p>在本RAML规范中为以下属性定义了具名参数集合: URI parameters(统一资源标识符参数), query string parameters(get请求中的请求参数), form parameters(请求体中的表单参数), request bodies(不同媒体类型中的请求体), 以及request and response header(请求头与响应头). 以上属性拥有本节中定义的所有具名参数.</p>
<p>部分具名参数为可选的, 另一部分为必须的. 具体情况可以看本节对每个具名参数的描述.</p>
<p>除有特别说明, 所有具名参数的值都应是纯文本. 所有合法的YAML字符也可以被加入到具名参数的值中.</p>
<h3 id="displayName_28_u5C55_u793A_u540D_u79F0_29"><a href="#displayName_28_u5C55_u793A_u540D_u79F0_29" class="headerlink" title="displayName(展示名称)"></a>displayName(展示名称)</h3><p>(可选)<br><em>displayName(展示名称)</em> 决定了参数展示的名称. 该值仅在展示或是生成文档时会用到. 如果没有定义, 那么默认会使用属性的键(也就是属性本身的名字)作为 <em>displayName(展示名称)</em>.</p>
<h3 id="description_28_u63CF_u8FF0_29"><a href="#description_28_u63CF_u8FF0_29" class="headerlink" title="description(描述)"></a>description(描述)</h3><p>(可选)<br><em>description(描述)</em> 属性用于说明参数预期用途或是意义. 其值可以使用 Markdown [Markdown] 格式.</p>
<h3 id="type_28_u7C7B_u578B_29"><a href="#type_28_u7C7B_u578B_29" class="headerlink" title="type(类型)"></a>type(类型)</h3><p>(可选)<br><em>type(类型)</em> 属性决定了参数解析值的基本类型. 若参数的解析值的类型与定义不符合, API客户端必须返回/抛出一个异常. 如果没有定义, 那么默认会以string作为 <em>type(类型)</em>. 合法的类型有:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">string</td>
<td style="text-align:left">值必须为字符串.</td>
</tr>
<tr>
<td style="text-align:left">number</td>
<td style="text-align:left">值必须是数, 由YAML定义的浮点数.</td>
</tr>
<tr>
<td style="text-align:left">integer</td>
<td style="text-align:left">值必须是整数. 不允许是整数. integer类型是number类型的一个子集.</td>
</tr>
<tr>
<td style="text-align:left">date</td>
<td style="text-align:left">值必须是一串 RFC2616 [RFC2616] 3.3节中定义的日期格式的字符串. 详见 <a href="/#date-representations">日期表示</a>.</td>
</tr>
<tr>
<td style="text-align:left">boolean</td>
<td style="text-align:left">值必须是字符串”true”或者”false”(没有双引号)之一.</td>
</tr>
<tr>
<td style="text-align:left">file</td>
<td style="text-align:left">(只适用于表单)<br><br>值必须为一个文件. 客户端生成器应该使用该类型来正确处理文件上传.</td>
</tr>
</tbody>
</table>
<p>#####日期表示</p>
<p>正如[RFC2616]中所定义的, 所有日期/时间戳必须以格林尼治标准时(GMT)表示, 对于HTTP而言GMT完全等同于UTC(协调世界时). 通过把”GMT”缩写加入到日期的时区位置来指定时间类型, 例如: <code>Sun, 06 Nov 1994 08:49:37 GMT</code>.</p>
<h3 id="enum_28_u679A_u4E3E_29"><a href="#enum_28_u679A_u4E3E_29" class="headerlink" title="enum(枚举)"></a>enum(枚举)</h3><p>(可选, 只适用于string类型的参数)<br><em>enum(枚举)</em> 属性会给出变量所有合法值的枚举. 必须通过数组来枚举. 如果定义了 <em>enum(枚举)</em> 属性, API的客户端与服务端都必须验证参数的值是否符合枚举数组中某一项的值. 若数组中没有值匹配得上, 客户端与服务器端都必须将其视为一个错误.</p>
<h3 id="pattern_28_u683C_u5F0F_29"><a href="#pattern_28_u683C_u5F0F_29" class="headerlink" title="pattern(格式)"></a>pattern(格式)</h3><p>(可选, 只适用于string类型的参数)<br><em>pattern(格式)</em> 属性是一个正则表达式, string类型的参数必须与其匹配. 正则表达式的格式必须遵循 ECMA 262/Perl 5. 正则表达式可以使用双引号包裹.</p>
<h3 id="minLength_28_u6700_u5C0F_u957F_u5EA6_29"><a href="#minLength_28_u6700_u5C0F_u957F_u5EA6_29" class="headerlink" title="minLength(最小长度)"></a>minLength(最小长度)</h3><p>(可选, 只适用于string类型的参数)<br><em>minLength(最小长度)</em> 属性规定了参数的值允许的最小字符个数.</p>
<h3 id="maxLength_28_u6700_u5927_u957F_u5EA6_29"><a href="#maxLength_28_u6700_u5927_u957F_u5EA6_29" class="headerlink" title="maxLength(最大长度)"></a>maxLength(最大长度)</h3><p>(可选, 只适用于string类型的参数)<br><em>maxLength(最大长度)</em> 属性规定了参数的值允许的最大字符个数.</p>
<h3 id="minimum_28_u6700_u5C0F_u503C_29"><a href="#minimum_28_u6700_u5C0F_u503C_29" class="headerlink" title="minimum(最小值)"></a>minimum(最小值)</h3><p>(可选, 只适用于number或是integer类型的参数)<br><em>minimum(最小值)</em> 属性规定了参数的最小值.</p>
<h3 id="maximum_28_u6700_u5927_u503C_29"><a href="#maximum_28_u6700_u5927_u503C_29" class="headerlink" title="maximum(最大值)"></a>maximum(最大值)</h3><p>(可选, 只适用于number或是integer类型的参数)<br><em>maximum(最大值)</em> 属性规定了参数的最大值</p>
<h3 id="example_28_u793A_u4F8B_29"><a href="#example_28_u793A_u4F8B_29" class="headerlink" title="example(示例)"></a>example(示例)</h3><p>(可选)<br><em>example(示例)</em> 属性是参数值的一个示例. 文档生成器可以使用该属性来为参数来生成样本值.</p>
<h3 id="repeat_28_u53EF_u91CD_u590D_29"><a href="#repeat_28_u53EF_u91CD_u590D_29" class="headerlink" title="repeat(可重复)"></a>repeat(可重复)</h3><p>(可选)<br><em>repeat(可重复)</em> 属性规定了参数是否能重复使用. 如果能, <em>repeat(可重复)</em> 的值必须设为true. 否则值为false.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/01/08/raml-0-8中文版/" data-id="cijfgacbq0001xg7ju4p43j8b" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/05/hello-world/" class="article-date">
  <time datetime="2016-01-05T04:10:49.000Z" itemprop="datePublished">2016-01-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/05/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start"><a href="#Quick_Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create_a_new_post"><a href="#Create_a_new_post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server"><a href="#Run_server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files"><a href="#Generate_static_files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites"><a href="#Deploy_to_remote_sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/01/05/hello-world/" data-id="cijfgacbl0000xg7j9zbqgcct" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/01/08/raml-0-8中文版/">raml-0.8中文版</a>
          </li>
        
          <li>
            <a href="/2016/01/05/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 PilockHulmes<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>